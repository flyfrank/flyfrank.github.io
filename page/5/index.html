<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>逐光の博客</title><meta name="author" content="逐光"><meta name="copyright" content="逐光"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="I hear and I forget. I see and I remember. I do and I understand."><script type="application/ld+json"></script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.mpoom.cn/page/5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '逐光の博客',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/theme/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">106</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">179</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/categories/book/"><i class="fa-fw fa fa-book"></i><span> 读书</span></a></div><div class="menus_item"><a class="site-page" href="/categories/thought/"><i class="fa-fw fa fa-lightbulb"></i><span> 思考感悟</span></a></div><div class="menus_item"><a class="site-page" href="/skills/"><i class="fa-fw fas fa-code"></i><span> 专业能力</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">逐光の博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/categories/book/"><i class="fa-fw fa fa-book"></i><span> 读书</span></a></div><div class="menus_item"><a class="site-page" href="/categories/thought/"><i class="fa-fw fa fa-lightbulb"></i><span> 思考感悟</span></a></div><div class="menus_item"><a class="site-page" href="/skills/"><i class="fa-fw fas fa-code"></i><span> 专业能力</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><h1 class="title-seo">逐光の博客</h1></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/06/19/rockermq/shen-du-jie-du-rocketmq-cun-chu-ji-zhi/" title="深度解读 RocketMQ 存储机制"><img class="post-bg" src="/2022/06/19/rockermq/shen-du-jie-du-rocketmq-cun-chu-ji-zhi/RocketMQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="深度解读 RocketMQ 存储机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/06/19/rockermq/shen-du-jie-du-rocketmq-cun-chu-ji-zhi/" title="深度解读 RocketMQ 存储机制">深度解读 RocketMQ 存储机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-06-18T16:00:00.000Z" title="发表于 2022-06-19 00:00:00">2022-06-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/RocketMQ/">RocketMQ</a></span></div><div class="content"> 在《阿里开发者》公众号看到这篇文章，深度解析了RocketMQ的存储机制，对理解RocketMQ存储原理及进行性能优化很有帮助。原文地址：深度解读 RocketMQ 存储机制  RocketMQ 实现了灵活的多分区和多副本机制，有效的避免了集群内单点故障对于整体服务可用性的影响。存储机制和高可用策略是 RocketMQ 稳定性的核心，社区上关于 RocketMQ 目前存储实现的分析与讨论一直是一个热议的话题。本文想从一个不一样的视角，着重于谈谈我眼中的这种存储实现是在解决哪些复杂的问题，因此我从本文最初的版本中删去了冗杂的代码细节分析，由浅入深的分析存储机制的缺陷与优化方向。  查看原文 </div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/15/book/ni-de-shan-liang-bi-xu-you-dian-feng-mang/" title="《你的善良必须有点锋芒》"><img class="post-bg" src="/images/book/%E4%BD%A0%E7%9A%84%E5%96%84%E8%89%AF%E5%BF%85%E9%A1%BB%E6%9C%89%E7%82%B9%E9%94%8B%E8%8A%92.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《你的善良必须有点锋芒》"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/15/book/ni-de-shan-liang-bi-xu-you-dian-feng-mang/" title="《你的善良必须有点锋芒》">《你的善良必须有点锋芒》</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-14T16:00:00.000Z" title="发表于 2022-05-15 00:00:00">2022-05-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/book/">book</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BD%A0%E7%9A%84%E5%96%84%E8%89%AF%E5%BF%85%E9%A1%BB%E6%9C%89%E7%82%B9%E9%94%8B%E8%8A%92/">你的善良必须有点锋芒</a></span></div><div class="content"> 你的善良，必须有点锋芒，否则等于零 —— 【美】拉尔夫·瓦尔多·爱默生   写在前面的话曾经听到过这样的一句话：God helps those who help themselves,翻译后的意思是：上帝只救自救者。佛经有一句相似的话：众生皆苦，唯有自渡。随着成长我开始逐渐理解这两句话的意思，想要追寻幸福的人生，必须要学会自救或者自渡。在成长的道路上，我们会遇见许多迷茫和困惑，阻碍我们的前进和成长之路，或许我们都希望有人能够帮助我们克服困难，但是问题的根本原因是我们始终过不去自己心中的那一关，就这样不断陷入内心的煎熬之中。看到这本书的时候一下子就被这本书的名字吸引，但是书阅读后发现，书中的内容犹如空中楼阁，这里更建议大家去读：《被讨厌的勇气》、《可爱的诅咒》以及《自卑与超越》，这些书籍结合心理学的知识，分析了问题的本质，结合切实的案例提供了解决之法。虽然这本书中更多是鸡汤，但是书中提到的很多现象值得我们思考探讨一下。 诚知此恨人人有，贫贱夫妻百事哀 《遣悲怀三首·其二》 唐·元稹 昔日戏言身后事，今朝都到眼前来。 衣裳已施行看尽，针线犹存未忍开。 尚想旧情怜婢仆，也曾因梦送钱财...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/04/book/neng-li-xian-jing/" title="《能力陷阱》"><img class="post-bg" src="/images/book/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《能力陷阱》"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/04/book/neng-li-xian-jing/" title="《能力陷阱》">《能力陷阱》</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-03T16:00:00.000Z" title="发表于 2022-05-04 00:00:00">2022-05-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/book/">book</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/">能力陷阱</a></span></div><div class="content">《能力陷阱》（Act Like A Leader, Think Like A Leader）—— 像领导者一样行动，像领导者一样思考。  写在前面的话这本书很早就在樊登读书的APP上听过一次，当时听完后并未留下深刻的印象。随着自己工作经历的增加，开始不断反思自己的人生，发现自己像是掉入泥潭之中，不断挣扎，但却找不到方法和方向。有天在下班的路上，想起了这本书于是重新把这本书听了一遍，从中仿佛找到了方向。于是买了实体书来看，刚开始翻看了一部分，然后由于这样那样的原因一直无法静下心来去读完，直至今年五一假期，一鼓作气读完了这本书。起初我以为这是面向领导者的书籍，读完后发现，这本书适合每个想要在职业生涯中更进一步的人。我自己今年在工作中担任了小组长的角色，需要进行一些自我转变，这本书帮我分析清了自我转变的过程以及过程中会遇到的问题，并提供了许多方法。同时这本书让我学会了重新定义自己，打破自己曾经的思维困境，走出泥潭。 “有些书你可能早早的买来了，但是翻看了几页由于未能提起你的兴致，就搁置在书架上去了，直到有一天你从书架上看到了它并拿起翻看了一下，然后一下子被内容吸引一鼓作气读完了。当我们...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/06/springcloud/environmentchangeevent-de-listener-zhi-xing-shun-xu/" title="EnvironmentChangeEvent的Listener执行顺序"><img class="post-bg" src="/2022/04/06/springcloud/environmentchangeevent-de-listener-zhi-xing-shun-xu/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="EnvironmentChangeEvent的Listener执行顺序"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/06/springcloud/environmentchangeevent-de-listener-zhi-xing-shun-xu/" title="EnvironmentChangeEvent的Listener执行顺序">EnvironmentChangeEvent的Listener执行顺序</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-05T16:00:00.000Z" title="发表于 2022-04-06 00:00:00">2022-04-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/spring/">spring</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/spring/">spring</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/EnvironmentChangeEvent/">EnvironmentChangeEvent</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ApplicationListener/">ApplicationListener</a></span></div><div class="content">一、问题背景项目中使用Nacos作为配置中心，实现配置动态更新，在配置类中监听EnvironmentChangeEvent事件对更新后的配置做一些初始化处理，代码如下： CallbackConfig@Order() @Data @Accessors(chain = true) @ConfigurationProperties(prefix = "transparent-delivery.callback") @Component @RefreshScope public class CallbackConfig implements InitializingBean, ApplicationListener&lt;EnvironmentChangeEvent> &#123;     private static final Logger log = LoggerFactory.getLogger("CONFIG_LOG");      private List&lt;ChatbotConfig> configs;     private Map&lt;Integer, Chatb...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/04/thought/jackwelch-guan-yu-ji-xiao-huo-li-qu-xian-de-guan-dian/" title="Jack Welch关于绩效、活力曲线的观点"><img class="post-bg" src="/2022/04/04/thought/jackwelch-guan-yu-ji-xiao-huo-li-qu-xian-de-guan-dian/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Jack Welch关于绩效、活力曲线的观点"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/04/thought/jackwelch-guan-yu-ji-xiao-huo-li-qu-xian-de-guan-dian/" title="Jack Welch关于绩效、活力曲线的观点">Jack Welch关于绩效、活力曲线的观点</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-03T16:00:00.000Z" title="发表于 2022-04-04 00:00:00">2022-04-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/thought/">thought</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Jack-Welch/">Jack Welch</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%BB%A9%E6%95%88/">绩效</a></span></div><div class="content"> 视频地址：Jack Welch关于绩效、活力曲线的观点  一、Jack Welch简介杰克·韦尔奇，美国企业家，于1981年至2001年担任通用电气（GE, General Electric）第八任首席执行官期间将该公司营业额提升到4100亿美金，有“中子弹杰克”（Neutron Jack）之称。 1.1 职业履历韦尔奇在1960年进入通用电气位于麻州皮茨菲尔德的塑胶部门担任工程师，当时年薪10,500美元。1972年升为该部门的副总，1977年升为部门总经理，1979年升为副董事长，1981年升为第八任最高首席执行官。在20年的生涯后于2001年退休。 1.2 经营手法韦尔奇担任通用电气首席执行官起，开始针对公司进行组织再造，他以“三个圈圈”列出通用电气的留存事业，将其他绩效不好的事业部出售或关闭，包括了成为通用电气传统的家电事业。因此，通用电气原有数百个事业，被缩减到不到20个事业。 1996年起，韦尔奇推动“六标准差”（6-Sigma），以将通用电气产品的不良率降低到千万分之34。 韦尔奇最受争议的改革，就是大幅裁员。通用电气员工人数由最高时的41万人裁减到23万人，裁员...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/24/thought/fei-ren-li-zi-yuan-jing-li-de-ren-li-zi-yuan-guan-li/" title="非人力资源经理的人力资源管理"><img class="post-bg" src="/2022/03/24/thought/fei-ren-li-zi-yuan-jing-li-de-ren-li-zi-yuan-guan-li/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="非人力资源经理的人力资源管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/24/thought/fei-ren-li-zi-yuan-jing-li-de-ren-li-zi-yuan-guan-li/" title="非人力资源经理的人力资源管理">非人力资源经理的人力资源管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-23T16:00:00.000Z" title="发表于 2022-03-24 00:00:00">2022-03-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/thought/">thought</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%BA%E5%8A%9B%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86/">人力资源管理</a></span></div><div class="content">一、人力资源管理的技巧人力资源管理的核心：选、育、用、留 1.1 人力日常资源管理（HRM） 招聘与选材（Staffing） 薪酬与福利（C&amp;B） 员工关系管理（Employee Relations） 绩效管理（Performance Management） 人力资源电子化管理（E-HR）  1.2 人力资源管理谁来做？ 所有有下述的人都是公司的人力资源管理者 人力资源部门负责提供有力工具协助管理人力资源 公司老大就是首席人力资源管理者 人力资源管理成败关键中层管理者  二、选材实操篇 一慢：清理成年人在选材方面的定式&#x2F;偏见 二慢：看看所招岗位需要什么素质 三通过: 通过行为面试法看人不走眼 我怎样综合评估候选人？  2.1 一慢：清理成年人在选材方面的定式&#x2F;偏见 对一些人&#x2F;事的刻板印象1、年龄2、性别3、学生会干部 试图寻找“超人” 校园招聘忽略应届生情商和逆商  2.2 二慢：看看所招岗位需要什么素质 简单工作分析——他上班后要做什么 提炼关键事件——要做的工作中最困难的是什么 确定胜任核心素质——要克服最困难的事需要什么素质  2.3 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/23/book/yi-fen-zhong-jing-li-ren/" title="《一分钟经理人》"><img class="post-bg" src="/images/cover/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《一分钟经理人》"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/23/book/yi-fen-zhong-jing-li-ren/" title="《一分钟经理人》">《一分钟经理人》</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-22T16:00:00.000Z" title="发表于 2022-03-23 00:00:00">2022-03-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/book/">book</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/">一分钟经理人</a></span></div><div class="content">一、经典的“自上而下”严密的管理方式存在什么问题？经典的“自上而下”的严密的管理方式，能够严格规范员工的行为方式。但是放在今天，这种方式不能激发员工潜力还扼杀创造力。 二、一分钟管理法2.1 一分钟目标设定一分钟目标：  共同制定工作目标， 并清楚简洁地描述出来， 明确好的工作表现的标准。 每个目标都单独写在一张纸上， 并写下完成期限。 规定每天用几分钟时间， 重温自己最重要的目标。 鼓励人们用一分钟时间审视自己的表现， 检查是否与目标一致。 若与目标不一致， 反思自己的工作表现， 以便调整。  2.2 一分钟称赞进行一分钟称赞： ◆ 前半分钟 及时称赞下属。 告诉他们对在哪里—要说得非常具体。 告诉他们这件事情做对之后， 会让你感到多么高兴， 对整个团队和其他同事又会有多么大的帮助。  ◆ 停顿一会儿 沉默几秒， 让他们静静地体会做对事带来的喜悦。  ◆ 后半分钟 鼓励他们以后继续这样做。 明确说明你对他们有信心， 并会支持他们获得成功。  2.3 一分钟更正如果目标阐述清晰， 进行一分钟更正： ◆ 前半分钟 错误发生后立刻进行更正。 确认既有的事实， 分析错在哪里，要说得非常...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/03/thought/dao-liao-yi-ding-nian-ling-di-pei-sheng-huo-gao-pei-ling-hun/" title="到了一定年龄，低配生活，高配灵魂"><img class="post-bg" src="/2022/03/03/thought/dao-liao-yi-ding-nian-ling-di-pei-sheng-huo-gao-pei-ling-hun/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="到了一定年龄，低配生活，高配灵魂"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/03/thought/dao-liao-yi-ding-nian-ling-di-pei-sheng-huo-gao-pei-ling-hun/" title="到了一定年龄，低配生活，高配灵魂">到了一定年龄，低配生活，高配灵魂</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-02T16:00:00.000Z" title="发表于 2022-03-03 00:00:00">2022-03-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/thought/">thought</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BD%8E%E9%85%8D%E7%94%9F%E6%B4%BB/">低配生活</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E9%85%8D%E7%81%B5%E9%AD%82/">高配灵魂</a></span></div><div class="content"> 本文摘录自新华社夜读文章: 到了一定年龄，低配生活，高配灵魂   part 1 有位作家说：“简朴的生活、高贵的灵魂，是人生的至高境界。” 年轻时，我们总以为人生就是要追求“高配置”的生活，追求豪华的车子、高档的房子、体面的工作…… 渐渐地，聪明的人懂得：如果过于追求物质的“高配”，身体累，心更累；适当减减配置，人生才能活得自在从容。 看过一句话：“拥有就是被拥有。”意思是说，一旦我们拥有了某样东西，从那一刻起，我们也被这个东西所拥有。 比如，你拥有了一辆汽车，你同时被这辆汽车拥有，你常担心它被剐蹭、被偷，你要给它买保险、做保养。 比如，你拥有了一件奢侈品衣服，你同时也被这件衣服拥有，脏了要洗、皱了要烫、破了要修。 我们拥有的东西越多，需要担心和关注的外部事物就越多。 相反，如果我们在物质上追求简单，注意力就不会被太多的外物分散，就能集中精力去做自己喜欢的事。 很认可一句话：“简单的生活，不是苦行僧式的自虐，而是一种更为人性化的、经济的、环保的、轻松愉悦的生活。” 我们总是尝试拥有更多，却很少问问自己：拥有这么多之后，我就会幸福吗？ 所谓物质低配，不是让你降低生活质量，而是在这...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/02/24/distributed/xi-tong-wen-ding-xing-yu-gao-ke-yong-bao-zhang-de-si-kao/" title="系统稳定性与高可用保障的思考"><img class="post-bg" src="/2022/02/24/distributed/xi-tong-wen-ding-xing-yu-gao-ke-yong-bao-zhang-de-si-kao/%E7%A8%B3%E5%AE%9A%E6%80%A7%E4%BF%9D%E9%9A%9C%E5%8F%8A%E9%AB%98%E5%8F%AF%E7%94%A8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="系统稳定性与高可用保障的思考"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/24/distributed/xi-tong-wen-ding-xing-yu-gao-ke-yong-bao-zhang-de-si-kao/" title="系统稳定性与高可用保障的思考">系统稳定性与高可用保障的思考</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-23T16:00:00.000Z" title="发表于 2022-02-24 00:00:00">2022-02-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%A8%B3%E5%AE%9A%E6%80%A7/">稳定性</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/">高可用</a></span></div><div class="content"> 原文地址：稳定性与高可用保障的工作思路， 本文在原文的基础上做了一些补充和删减。  一、深入理解稳定性与高可用 维基百科上稳定性与高可用性的定义  稳定性 稳定性是数学或工程上的用语，判别一系统在有界的输入是否也产生有界的输出。若是，称系统为稳定；若否，则称系统为不稳定。  关于稳定性的定义我们可以总结归纳为 – 当系统接收输入后，能够产生正确的、符合预期的输出，称系统为稳定；否则，称系统为不稳定。 稳定性描述的是系统的行为，一个系统是否稳定，很难进行量化，但是可以通过否定的方式进行快速地判断。保障系统的稳定性或者说提高系统的稳定性需要通过各种方法来避免那些不稳定的情况发生。所谓的更稳定，客观上并不存在，是主观上希望避免或者减少不稳定的情况发生。 高可用性 高可用性（英语：high availability，缩写为 HA），IT术语，指系统无中断地执行其功能的能力，代表系统的可用性程度。是进行系统设计时的准则之一。高可用性系统与构成该系统的各个组件相比可以更长时间运行。  与稳定性不同，可用性一个可以量化的指标，计算公式在维基百科中描述如下：  根据系统损害、无法使用的时间，以...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/01/20/java/java-zhong-yi-ge-dui-xiang-zhan-yong-duo-shao-ge-zi-jie/" title="Java中一个对象占用多少个字节"><img class="post-bg" src="/2022/01/20/java/java-zhong-yi-ge-dui-xiang-zhan-yong-duo-shao-ge-zi-jie/markoop.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java中一个对象占用多少个字节"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/01/20/java/java-zhong-yi-ge-dui-xiang-zhan-yong-duo-shao-ge-zi-jie/" title="Java中一个对象占用多少个字节">Java中一个对象占用多少个字节</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-01-19T16:00:00.000Z" title="发表于 2022-01-20 00:00:00">2022-01-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%AF%B9%E8%B1%A1/">对象</a></span></div><div class="content"> 说明：本文内容参考文章:码辣架构-Java对象的内存布局，详解内容请阅读原文。  一、问题背景在开发过程中，我们经常使用JVM进行缓存一些数据来提高程序的性能，但是我们需要对缓存的数据进行大小估算，防止产生OOM问题，为保证估算的准确性，需要了解一个Java对象在内存中具体占用多少个字节。 二、一个Java对象的组成   组成部分 对象头（object header） 实例数据（Instance Data） 对齐填充（Padding）    说明 包括了关于堆对象的布局、类型、GC状态、同步状态和标识哈希码的基本信息。Java对象和vm内部对象都有一个共同的对象头格式。 主要是存放类的数据信息，父类的信息，对象字段属性信息。 为了字节对齐，填充的数据，不是必须的。   大小 12 byte 基本类型数据类型和引用类型的大小 对象大小不满足8byte的倍数时进行填充    提示：JDK6之后默认都是开始指针压缩的，所以对象头中mark word占用8个byte，klass pointer占用4个byte  object header Common structure at the...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/#content-inner">11</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/theme/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">逐光</div><div class="author-info-description">I hear and I forget. I see and I remember. I do and I understand.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">106</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">179</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/flyfrank"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如有问题，欢迎留言沟通</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2026/01/08/ai-coding/mcp-server-shen-du-jie-xi-ai-ying-yong-de-biao-zhun-hua-xie-yi/" title="MCP Server深度解析：AI应用的标准化协议">MCP Server深度解析：AI应用的标准化协议</a><time datetime="2026-01-08T06:30:00.000Z" title="发表于 2026-01-08 14:30:00">2026-01-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/29/thought/cong-nian-di-ren-cai-pan-dian-ping-wei-xi-kan-da-gong-ren-wei-shi-me-yao-ba-zi-ji-chan-pin-hua/" title="从年底人才盘点评委席，看打工人为什么要把自己&quot;产品化&quot;">从年底人才盘点评委席，看打工人为什么要把自己&quot;产品化&quot;</a><time datetime="2025-12-28T16:00:00.000Z" title="发表于 2025-12-29 00:00:00">2025-12-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/20/redis/yi-ci-xian-shang-redis-ji-qun-jie-dian-zhu-cong-qie-huan-yin-qi-de-ying-yong-chong-qi-wen-ti-pai-cha-chu-li/" title="一次线上Redis集群节点主从切换引起的应用重启问题排查处理">一次线上Redis集群节点主从切换引起的应用重启问题排查处理</a><time datetime="2025-12-19T16:00:00.000Z" title="发表于 2025-12-20 00:00:00">2025-12-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/11/operations/yi-ci-sheng-chan-liu-liang-gong-ji-fang-yu-yu-jie-jue-fang-an/" title="一次生产流量攻击防御与解决方案">一次生产流量攻击防御与解决方案</a><time datetime="2025-11-10T16:00:00.000Z" title="发表于 2025-11-11 00:00:00">2025-11-11</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
      <i class="fas fa-angle-right"></i></a>
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AI%E7%BC%96%E7%A8%8B/"><span class="card-category-list-name">AI编程</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/K8s/"><span class="card-category-list-name">K8s</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/book/"><span class="card-category-list-name">book</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/k8s/"><span class="card-category-list-name">k8s</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/middleware/"><span class="card-category-list-name">middleware</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spring/"><span class="card-category-list-name">spring</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/thought/"><span class="card-category-list-name">thought</span><span class="card-category-list-count">10</span></a></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 1.15em; color: rgb(197, 120, 175);">动态规划</a><a href="/tags/%E9%9B%B6%E4%B8%80%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/" style="font-size: 1.15em; color: rgb(50, 141, 91);">零一背包问题</a><a href="/tags/AI/" style="font-size: 1.15em; color: rgb(129, 50, 50);">AI</a><a href="/tags/MCP/" style="font-size: 1.15em; color: rgb(50, 165, 50);">MCP</a><a href="/tags/Claude/" style="font-size: 1.15em; color: rgb(96, 50, 95);">Claude</a><a href="/tags/%E5%8D%8F%E8%AE%AE%E6%A0%87%E5%87%86/" style="font-size: 1.15em; color: rgb(115, 50, 120);">协议标准</a><a href="/tags/%E4%BA%BA%E9%97%B4%E5%A4%B1%E6%A0%BC/" style="font-size: 1.15em; color: rgb(97, 108, 178);">人间失格</a><a href="/tags/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/" style="font-size: 1.15em; color: rgb(50, 59, 170);">一分钟经理人</a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%96%84%E8%89%AF%E5%BF%85%E9%A1%BB%E6%9C%89%E7%82%B9%E9%94%8B%E8%8A%92/" style="font-size: 1.15em; color: rgb(101, 167, 128);">你的善良必须有点锋芒</a><a href="/tags/%E3%80%8A%E4%BD%A0%E8%A6%81%E5%A6%82%E4%BD%95%E8%A1%A1%E9%87%8F%E4%BD%A0%E7%9A%84%E4%BA%BA%E7%94%9F%E3%80%8B/" style="font-size: 1.15em; color: rgb(69, 50, 125);">《你要如何衡量你的人生》</a><a href="/tags/%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D/" style="font-size: 1.15em; color: rgb(161, 50, 50);">关键对话</a><a href="/tags/%E5%8E%9F%E7%94%9F%E5%AE%B6%E5%BA%AD/" style="font-size: 1.15em; color: rgb(65, 150, 57);">原生家庭</a><a href="/tags/%E5%8F%AF%E7%88%B1%E7%9A%84%E8%AF%85%E5%92%92/" style="font-size: 1.15em; color: rgb(50, 101, 169);">可爱的诅咒</a><a href="/tags/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/" style="font-size: 1.15em; color: rgb(88, 50, 100);">能力陷阱</a><a href="/tags/%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94/" style="font-size: 1.15em; color: rgb(65, 50, 163);">被讨厌的勇气</a><a href="/tags/%E9%82%93%E5%B0%8F%E5%B9%B3%E6%97%B6%E4%BB%A3/" style="font-size: 1.15em; color: rgb(50, 189, 124);">邓小平时代</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(139, 103, 91);">java</a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(50, 200, 50);">设计模式</a><a href="/tags/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(50, 104, 135);">策略模式</a><a href="/tags/%E9%87%91%E5%AD%97%E5%A1%94%E5%8E%9F%E7%90%86/" style="font-size: 1.15em; color: rgb(50, 50, 118);">金字塔原理</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>归档</span>
      <a class="card-more-btn" href="/archives/"
            title="查看更多">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2026/01/">
            <span class="card-archive-list-date">
              一月 2026
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/12/">
            <span class="card-archive-list-date">
              十二月 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/11/">
            <span class="card-archive-list-date">
              十一月 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/03/">
            <span class="card-archive-list-date">
              三月 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">106</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">227.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总浏览量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2026-01-08T06:44:10.495Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2017 - 2026 By 逐光</span></div><div class="footer_custom_text"><div class="icp"><span><img src="/images/theme/icp_icon.png"/><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">陕ICP备19021337号-1</span></a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>