<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>逐光の博客</title><meta name="author" content="逐光"><meta name="copyright" content="逐光"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="I hear and I forget. I see and I remember. I do and I understand."><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.mpoom.cn/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '逐光の博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-12-23 19:03:01'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/theme/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">170</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/categories/book/"><i class="fa-fw fa fa-book"></i><span> 读书</span></a></div><div class="menus_item"><a class="site-page" href="/categories/thought/"><i class="fa-fw fa fa-lightbulb"></i><span> 思考感悟</span></a></div><div class="menus_item"><a class="site-page" href="/skills/"><i class="fa-fw fas fa-code"></i><span> 专业能力</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">逐光の博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/categories/book/"><i class="fa-fw fa fa-book"></i><span> 读书</span></a></div><div class="menus_item"><a class="site-page" href="/categories/thought/"><i class="fa-fw fa fa-lightbulb"></i><span> 思考感悟</span></a></div><div class="menus_item"><a class="site-page" href="/skills/"><i class="fa-fw fas fa-code"></i><span> 专业能力</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/22/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-10-wan-liang-ji-wen-ben-guan-jian-zi-pi-pei-guo-lu/" title="10万TPS级高并发系统——10万量级文本关键字匹配过滤"><img class="post-bg" src="/2024/06/22/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-10-wan-liang-ji-wen-ben-guan-jian-zi-pi-pei-guo-lu/HighConcurrency.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="10万TPS级高并发系统——10万量级文本关键字匹配过滤"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/22/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-10-wan-liang-ji-wen-ben-guan-jian-zi-pi-pei-guo-lu/" title="10万TPS级高并发系统——10万量级文本关键字匹配过滤">10万TPS级高并发系统——10万量级文本关键字匹配过滤</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-21T16:00:00.000Z" title="发表于 2024-06-22 00:00:00">2024-06-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/10%E4%B8%87TPS/">10万TPS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%85%B3%E9%94%AE%E5%AD%97%E5%8C%B9%E9%85%8D/">关键字匹配</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/">AC自动机</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%8F%8C%E6%95%B0%E7%BB%84Trie/">双数组Trie</a></span></div><div class="content">一、背景简介消息发送管控平台中有个很重要的能力就是文本关键字检测，比如检测一段话中是否含有法轮功等敏感字段，这就涉及到关键字匹配算法。在该项目中每条消息都要经过关键词过滤，通过后才能下发。关键字匹配有两种形式，分为单一关键字和逻辑关键字。
1.1 单一关键字单一关键字指单个单词，如：法轮功，炸金花，一条龙服务等涉恐、涉赌、涉黄等关键字，单个的关键字在系统数据库中的数量在9万+，消息下发时需要检测文本中是否包含数据库中单个关键字。
1.2 逻辑关键字逻辑关键字由多个单一关键字组合&amp;&amp;、||、!逻辑运算符，即匹配到的关键字满足逻辑关键字中的逻辑运算逻辑才进行管控。
例如：逻辑关键字点击&amp;&amp;登录&amp;&amp;!验证码, 表示内容包含点击、登录关键字并且不包含验证码关键字，如果文本中包含的内容符合该逻辑，则进行拦截管控。


二、性能要求消息发送管控平台关键字整体数据规模为10万量级，其中单一关键字数量为9万，逻辑关键字数量为1万。消息管控平台的安全审核接口整体的平均响应时间为50ms。
三、方案预研我们先分析梳理常用的关键词匹配算法，再根据上述业务需求及 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/21/high-concurrency/chang-yong-de-guan-jian-zi-pi-pei-suan-fa/" title="常用的关键字匹配算法"><img class="post-bg" src="/2024/06/21/high-concurrency/chang-yong-de-guan-jian-zi-pi-pei-suan-fa/%E5%85%B3%E9%94%AE%E5%AD%97%E5%8C%B9%E9%85%8D.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常用的关键字匹配算法"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/21/high-concurrency/chang-yong-de-guan-jian-zi-pi-pei-suan-fa/" title="常用的关键字匹配算法">常用的关键字匹配算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-20T16:00:00.000Z" title="发表于 2024-06-21 00:00:00">2024-06-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%85%B3%E9%94%AE%E5%AD%97%E5%8C%B9%E9%85%8D/">关键字匹配</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/">AC自动机</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%8F%8C%E6%95%B0%E7%BB%84Trie/">双数组Trie</a></span></div><div class="content">一、背景简介二、常用算法2.1. 暴力匹配算法（Brute Force）从文本的每一个可能的起始位置开始，逐个字符地与模式串进行比较。

优点：
简单易懂，容易实现。


缺点：
效率低，时间复杂度为O(m * n)，其中m为模式串长度，n为文本长度。
不适合处理大规模数据和长模式串。


适用场景：
小规模数据或者模式串较短的简单匹配场景。


性能表现：
在规模较小的情况下能够工作，但随着数据规模增大，性能迅速下降。



2.2. KMP算法（Knuth-Morris-Pratt算法） 利用前缀函数（partial match table）避免对已匹配部分的重复比较，实现跳跃式的匹配。

优点：
时间复杂度为O(m + n)，其中m为模式串长度，n为文本长度。
适用于处理大规模数据和长模式串，性能稳定。


缺点：
算法实现稍复杂，需要构建和理解前缀函数。
在某些特定情况下，性能可能不如Boyer-Moore算法。


适用场景：
需要处理长模式串或者大量数据的字符串匹配任务。


性能表现：
对于大规模数据和长模式串有较好的性能表现，常用于实际应用中。



2.3. Boye ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/15/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-30-yi-ji-fa-song-liang-pin-ci-guan-kong/" title="10万TPS级高并发系统——30亿级发送量频次管控（一）"><img class="post-bg" src="/2024/06/15/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-30-yi-ji-fa-song-liang-pin-ci-guan-kong/HighConcurrency.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="10万TPS级高并发系统——30亿级发送量频次管控（一）"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/15/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-30-yi-ji-fa-song-liang-pin-ci-guan-kong/" title="10万TPS级高并发系统——30亿级发送量频次管控（一）">10万TPS级高并发系统——30亿级发送量频次管控（一）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-14T16:00:00.000Z" title="发表于 2024-06-15 00:00:00">2024-06-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95/">限流算法</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/10%E4%B8%87TPS/">10万TPS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%A2%91%E6%AC%A1%E7%AE%A1%E6%8E%A7/">频次管控</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/">滑动窗口</a></span></div><div class="content">一、背景简介在客户的业务场景中，需要在全局开启终端用户消息发送的频次管控，避免消息重复发送以及段时间内下发大量消息对终端用户进行信息轰炸，从而引起终端用户投诉。目前业务平台每日最高的消息发送量为30亿，去重后的消息接收人量在千万级到亿级，消息发送管控平台需要对每个消息接收人的消息发送时间进行缓存，并根据管控平台配置频次管控策略，检查最新下发的消息是否超过设置的频次，超过则进行拦截。

1.1 频次管控配置


限制项
限制频率
说明



接收频次管控
15次&#x2F;1分钟
任意1分钟内，对同一个接收人发送消息最多15次，超出次数会被限制。


接收频次管控
50次&#x2F;24小时
任意24小时内，对同一个接收人发送消息最多50次，超出次数会被限制。


内容频次管控
2次&#x2F;59秒
任意59秒内，对同一个接收人发送同一内容（内容完全相同）最多2次，超出次数会被限制。


内容频次管控
5次&#x2F;59分钟
任意59分钟内，对同一个接收人发送同一消息内容（内容完全相同）最多5次，超出次数会被限制。


二、需求分析基于上述业务场景，我们需要对每个消息接收者做消息接收 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/08/distributed/si-chong-jing-dian-de-xian-liu-suan-fa/" title="四种经典的限流算法"><img class="post-bg" src="/2024/06/08/distributed/si-chong-jing-dian-de-xian-liu-suan-fa/%E6%BC%8F%E6%A1%B6%E7%AE%97%E6%B3%95.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="四种经典的限流算法"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/08/distributed/si-chong-jing-dian-de-xian-liu-suan-fa/" title="四种经典的限流算法">四种经典的限流算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-07T16:00:00.000Z" title="发表于 2024-06-08 00:00:00">2024-06-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95/">限流算法</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%9B%BA%E5%AE%9A%E6%97%B6%E9%97%B4%E7%AA%97%E5%8F%A3/">固定时间窗口</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BB%91%E5%8A%A8%E6%97%B6%E9%97%B4%E7%AA%97%E5%8F%A3/">滑动时间窗口</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%BC%8F%E6%B4%9E%E7%AE%97%E6%B3%95/">漏洞算法</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E4%BB%A4%E7%89%8C%E6%A1%B6%E7%AE%97%E6%B3%95/">令牌桶算法</a></span></div><div class="content">在业务开发中经常遇到限流场景，本文主要介绍四种经典的限流算法：固定窗口计数器、滑动窗口计数器、漏桶算法、令牌桶算法，在做限流的场景时可以借鉴这几种经典的限流算法，掌握其使用场景级优缺点。
一、固定窗口计数器（Fixed Window）固定窗口计数器(Fixed Window)算法的实现思路非常简单，维护一个固定单位时间内的计数器，如果检测到单位时间已经过去就重置计数器为零。计数限首先维护一个计数器，将单位时间段当做一个窗口，计数器记录这个窗口接收请求的次数。

当次数少于限流阀值，就允许访问，并且计数器+1
当次数大于限流阀值，就拒绝访问
当前的时间窗口过去之后，计数器清零


二、 固定窗口算法的优缺点
优点：固定窗口算法非常简单，易于实现和理解，性能高。
缺点：存在明显的临界问题。

1.2 临界问题临界问题：假设限流阀值为5个请求，单位时间窗口是1s,如果我们在单位时间内的前0.8-1s和1-1.2s，分别并发5个请求。虽然都没有超过阀值，但是如果算0.8-1.2s,则并发数高达10，已经超过单位时间1s不超过5阀值的定义。
2.2 滑动窗口计数器（Sliding Window） ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/08/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-2-yi-ji-hei-ming-dan-guo-lu/" title="10万TPS级高并发系统——2亿级黑名单过滤"><img class="post-bg" src="/2024/06/08/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-2-yi-ji-hei-ming-dan-guo-lu/HighConcurrency.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="10万TPS级高并发系统——2亿级黑名单过滤"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/08/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-2-yi-ji-hei-ming-dan-guo-lu/" title="10万TPS级高并发系统——2亿级黑名单过滤">10万TPS级高并发系统——2亿级黑名单过滤</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-07T16:00:00.000Z" title="发表于 2024-06-08 00:00:00">2024-06-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/10%E4%B8%87TPS/">10万TPS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%BB%91%E5%90%8D%E5%8D%95%E8%BF%87%E6%BB%A4/">黑名单过滤</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/RoaringBitmap/">RoaringBitmap</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a></span></div><div class="content">一、背景简介在消息发送管控平台中，黑名单过滤是保障消息发送安全的重要环节。系统需要对发送的每条消息进行黑名单检查，包括全局黑名单、账号级黑名单、投诉黑名单、退订黑名单等多种类型。在日发送量达到30亿条消息的场景下，黑名单数据规模庞大，系统需要支持2亿级黑名单数据的高效过滤。
1.1 技术挑战在2亿级黑名单数据规模下，传统的数据结构面临严重挑战：



存储方式
内存占用
查询性能
主要问题



HashMap&lt;String,Object&gt;
~20GB
O(1)
内存占用过大，GC压力巨大


HashSet
~15GB
O(1)
装箱拆箱开销，内存碎片


传统BitSet
~250MB
O(1)
稀疏数据浪费严重，不支持分片


RoaringBitmap
~5-50MB
O(1)
内存高效，压缩率高


核心问题：2亿个11位手机号码如果用传统HashMap存储，需要占用约20GB内存，这对系统资源是巨大的挑战。而且在高并发场景下，大量的HashMap查询会产生严重的GC问题，影响系统性能。


1.2 RoaringBitmap优势RoaringBitmap是一种高 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/08/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-xing-neng-ya-ce-yu-you-hua/" title="10万TPS级高并发系统——性能压测与优化"><img class="post-bg" src="/2024/06/08/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-xing-neng-ya-ce-yu-you-hua/%E6%80%A7%E8%83%BD%E5%8E%8B%E6%B5%8B.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="10万TPS级高并发系统——性能压测与优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/08/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-xing-neng-ya-ce-yu-you-hua/" title="10万TPS级高并发系统——性能压测与优化">10万TPS级高并发系统——性能压测与优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-07T16:00:00.000Z" title="发表于 2024-06-08 00:00:00">2024-06-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/10%E4%B8%87TPS/">10万TPS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E5%8E%8B%E6%B5%8B/">性能压测</a></span></div><div class="content">一、压测准备1.1 系统背景消息发送管控平台需要支持10万TPS的接口调用，要求单次请求处理耗时在50ms以内。系统采用集群化部署，通过弹性负载均衡实现高可用和性能扩展。
核心技术指标：

目标TPS：10万
响应时间：≤50ms
日发送量：30亿条
平均发送速度：3.47万条&#x2F;秒

1.2 压测环境


组件
规格配置
数量



管控API服务
16核&#x2F;32GB&#x2F;500G高IO
15节点


Redis集群
256G&#x2F;32分片
32实例


MySQL数据库
16核&#x2F;32GB&#x2F;1TB超高IO
主从


负载均衡器
中型II&#x2F;500M带宽
1台


压测客户端
8核&#x2F;16GB
3台


1.3 压测工具选型选用 JMeter 作为压测工具：

支持高并发场景
可视化报表
分布式压测
插件丰富

二、压测方案设计2.1 压测场景场景一：基础功能压测

并发用户数：1000 → 3000 → 5000
持续时间：每阶段10分钟
目标：验证基础性能

场景二：峰值压测

并发用户数：5000
持续时间：30分钟 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/01/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-jia-gou-she-ji-yu-xiang-mu-luo-di-shi-jian/" title="10万TPS级消息发送管控平台架构设计与项目落地实践"><img class="post-bg" src="/2024/06/01/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-jia-gou-she-ji-yu-xiang-mu-luo-di-shi-jian/%E7%AE%A1%E6%8E%A7%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2%E6%9E%B6%E6%9E%84%E5%9B%BE.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="10万TPS级消息发送管控平台架构设计与项目落地实践"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/01/high-concurrency/10-wan-tps-ji-gao-bing-fa-xi-tong-jia-gou-she-ji-yu-xiang-mu-luo-di-shi-jian/" title="10万TPS级消息发送管控平台架构设计与项目落地实践">10万TPS级消息发送管控平台架构设计与项目落地实践</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-31T16:00:00.000Z" title="发表于 2024-06-01 00:00:00">2024-06-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/">高并发</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/10%E4%B8%87TPS/">10万TPS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">架构设计</a></span></div><div class="content">一、背景简介项目需要设计一个高并发的消息发送管控平台，实现业务消息发送安全管控。业务要求所有下发内容需要调用安全管控平台安全审核接口进行安全审核，根据管控策略进行放通、拦截及人工审核。目前线上日发送量峰值为30亿条左右，发送平均速度为3.47万条&#x2F;秒,消息发送管控平台接口的TPS需要达到10万级别。
1.1 管控策略基于业务需求管控平台提供管控能力及管控策略配置，平台部分管控功能如下：

消息发送频次管控
重复内容发送管控
关键字匹配过滤
发送黑名单过滤

二、架构设计根据业务系统要求，管控平台安全审核接口需要实现10万tps，请求处理耗时在50ms以内。
2.1 业务架构图安全管控平台业务架构较为简单，包含3个核心模块：

管控后台：用于管理管控相关数据及查看、审核被管控的消息记录
网管管控API：提供统一安全管控接口，根据平台的管控策略要求，对下发消息进行审核管控
审核回调：用于向业务平台推送人工审核结果及相关变更数据

2.2 部署架构图上图为管控平台的部署架构图，Redis集群和MySQL数据库使用华为云的服务，应用模块均实现集群化部署：

管控后台：基于Redis实 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/05/25/java/base-li-lun-yu-cap/" title="Base理论与CAP"><img class="post-bg" src="/2024/05/25/java/base-li-lun-yu-cap/cap.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Base理论与CAP"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/25/java/base-li-lun-yu-cap/" title="Base理论与CAP">Base理论与CAP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-24T16:00:00.000Z" title="发表于 2024-05-25 00:00:00">2024-05-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Base%E7%90%86%E8%AE%BA/">Base理论</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/CAP/">CAP</a></span></div><div class="content">一、概念简介1.1 Base理论BASE 是 Basically Available（基本可用）、Soft-state（软状态） 和 Eventually Consistent（最终一致性） 三个短语的缩写。BASE 理论是对 CAP 中一致性 C 和可用性 A 权衡的结果，其来源于对大规模互联网系统分布式实践的总结，是基于 CAP 定理逐步演化而来的，它大大降低了我们对系统的要求。
1.2 CAP理论CAP 也就是 Consistency（一致性）、Availability（可用性）、Partition Tolerance（分区容错性） 这三个单词首字母组合。
二、Base理论
BASE 理论起源于 2008 年， 由 eBay 的架构师 Dan Pritchett 在 ACM 上发表。

2.1 简介BASE是“Basically Available, Soft state, Eventually consistent(基本可用、软状态、最终一致性)”的首字母缩写。其中的软状态和最终一致性这两种技巧擅于对付存在分区的场合，并因此提高了可用性。

Basically Availabl ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/05/16/thought/gao-xiao-zhi-xing-yu-chi-xu-you-hua/" title="高效执行与持续优化"><img class="post-bg" src="/2024/05/16/thought/gao-xiao-zhi-xing-yu-chi-xu-you-hua/cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="高效执行与持续优化"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/16/thought/gao-xiao-zhi-xing-yu-chi-xu-you-hua/" title="高效执行与持续优化">高效执行与持续优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-15T16:00:00.000Z" title="发表于 2024-05-16 00:00:00">2024-05-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/thought/">thought</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%AE%A1%E7%90%86/">管理</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%89%A7%E8%A1%8C/">执行</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%A2%86%E5%AF%BC/">领导</a></span></div><div class="content">一、高效执行与持续优化1.1 独立人格
独立承担责任
独立坚守原则

1.2 什么是执行力以规则为标注，第一时间把目标变成结果的行动。 
1.3 预见结果的4A工具1.目标（Aim）2.指标（Advocacy）3.行动措施（Action）4.承诺（Acceptance）
1.4 执行的是三种状态
机械执行：只看行为是否发生
热情执行：看行为质量如何去做
同理执行：按照需求倒退实施

1.5 任务与结果的三大区别任务是三事
例行公事：该走的程序都走了
完成差事：该做的行动都做了
敷衍了事：该干的任务都干了

结果是三有
有时间：凡事有期限
有价值：凡事被需要
有证据：凡事能检查

二、如何做执行人才2.1 执行人才的特点百分百责任1.客户、领导、同事、岗位
2.2 执行团队是那个统一
统一思想：把需求和目标进行结合
统一声音：声音一致，避免杂音
统一动作：以思想和声音统一为前提

2.3 主动反馈的六大时机
任务执行完后
阶段性结果完成后
执行中遇到困难需要领导支持
执行中遇到更好的资源、机会、信息
领导格外关注的环节完成后
例行反馈

2.4 执行人才的三大素养
服从
主动
自律

2 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/20/prometheus/prometheus-jian-kong-zhi-biao-cai-ji-yu-tu-biao-pei-zhi/" title="Prometheus监控指标采集与图表配置"><img class="post-bg" src="/2024/04/20/prometheus/prometheus-jian-kong-zhi-biao-cai-ji-yu-tu-biao-pei-zhi/cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Prometheus监控指标采集与图表配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/20/prometheus/prometheus-jian-kong-zhi-biao-cai-ji-yu-tu-biao-pei-zhi/" title="Prometheus监控指标采集与图表配置">Prometheus监控指标采集与图表配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-19T16:00:00.000Z" title="发表于 2024-04-20 00:00:00">2024-04-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/">系统监控</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Prometheus/">Prometheus</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Metrics/">Metrics</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Grafana/">Grafana</a></span></div><div class="content">一、背景简介Prometheus由于对云原生的优秀的支持，成为各企业上云监控选型的首选，本文主要介绍Prometheus监控指标采集后图表的配置。

Prometheus受启发于Google的Brogmon监控系统（相似的Kubernetes是从Google的Brog系统演变而来），从2012年开始由前Google工程师在Soundcloud以开源软件的形式进行研发，并且于2015年早期对外发布早期版本。2016年5月继Kubernetes之后成为第二个正式加入CNCF基金会的项目，同年6月正式发布1.0版本。2017年底发布了基于全新存储层的2.0版本，能更好地与容器平台、云平台配合。详见：Prometheus简介

二、监控指标数据Prometheus使用Pull模式主动拉取监控数据，在应用内部我们实现监控指标数据采集并暴露一个数据采集端口，在Prometheus服务侧配置监控指标采集任务进行监控数据采集（Prometheus默认15s采集一次监控数据）。
指标数据格式
在spring-boot应用中，默认监控采集路径为： http://172.16.1.15:31744/actu ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/#content-inner">11</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/theme/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">逐光</div><div class="author-info__description">I hear and I forget. I see and I remember. I do and I understand.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">170</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/flyfrank"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如有问题，欢迎留言沟通</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/20/redis/yi-ci-xian-shang-redis-ji-qun-jie-dian-zhu-cong-qie-huan-yin-qi-de-ying-yong-chong-qi-wen-ti-pai-cha-chu-li/" title="一次线上Redis集群节点主从切换引起的应用重启问题排查处理">一次线上Redis集群节点主从切换引起的应用重启问题排查处理</a><time datetime="2025-12-19T16:00:00.000Z" title="发表于 2025-12-20 00:00:00">2025-12-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/11/11/operations/yi-ci-sheng-chan-liu-liang-gong-ji-fang-yu-yu-jie-jue-fang-an/" title="一次生产流量攻击防御与解决方案">一次生产流量攻击防御与解决方案</a><time datetime="2025-11-10T16:00:00.000Z" title="发表于 2025-11-11 00:00:00">2025-11-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/26/thought/31-sui-zhan-zai-ren-sheng-shi-zi-lu-kou-yi-ci-shen-du-jie-pou-gao-bie-jiao-lu-mi-mang/" title="站在31岁的人生十字路口，我选择放下焦虑，与自己和解">站在31岁的人生十字路口，我选择放下焦虑，与自己和解</a><time datetime="2025-03-25T16:00:00.000Z" title="发表于 2025-03-26 00:00:00">2025-03-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/30/prometheus/jmx-exporter-xu-ni-ji-jvm-jian-kong-cai-ji-bu-shu/" title="JMX-Exporter虚拟机JVM监控采集部署">JMX-Exporter虚拟机JVM监控采集部署</a><time datetime="2024-12-29T16:00:00.000Z" title="发表于 2024-12-30 00:00:00">2024-12-30</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/K8s/"><span class="card-category-list-name">K8s</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/book/"><span class="card-category-list-name">book</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/k8s/"><span class="card-category-list-name">k8s</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/middleware/"><span class="card-category-list-name">middleware</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spring/"><span class="card-category-list-name">spring</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/thought/"><span class="card-category-list-name">thought</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="card-category-list-name">中间件</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA/" style="font-size: 1.15em; color: rgb(58, 86, 53)">一分钟经理人</a><a href="/tags/%E4%BA%BA%E9%97%B4%E5%A4%B1%E6%A0%BC/" style="font-size: 1.15em; color: rgb(58, 169, 1)">人间失格</a><a href="/tags/%E4%BD%A0%E7%9A%84%E5%96%84%E8%89%AF%E5%BF%85%E9%A1%BB%E6%9C%89%E7%82%B9%E9%94%8B%E8%8A%92/" style="font-size: 1.15em; color: rgb(43, 86, 13)">你的善良必须有点锋芒</a><a href="/tags/%E3%80%8A%E4%BD%A0%E8%A6%81%E5%A6%82%E4%BD%95%E8%A1%A1%E9%87%8F%E4%BD%A0%E7%9A%84%E4%BA%BA%E7%94%9F%E3%80%8B/" style="font-size: 1.15em; color: rgb(185, 29, 78)">《你要如何衡量你的人生》</a><a href="/tags/%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D/" style="font-size: 1.15em; color: rgb(31, 56, 25)">关键对话</a><a href="/tags/%E5%8E%9F%E7%94%9F%E5%AE%B6%E5%BA%AD/" style="font-size: 1.15em; color: rgb(159, 181, 166)">原生家庭</a><a href="/tags/%E5%8F%AF%E7%88%B1%E7%9A%84%E8%AF%85%E5%92%92/" style="font-size: 1.15em; color: rgb(49, 186, 61)">可爱的诅咒</a><a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 1.15em; color: rgb(46, 28, 79)">读书</a><a href="/tags/%E6%B4%BB%E5%87%BA%E7%94%9F%E5%91%BD%E7%9A%84%E6%84%8F%E4%B9%89/" style="font-size: 1.15em; color: rgb(161, 52, 7)">活出生命的意义</a><a href="/tags/%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94/" style="font-size: 1.15em; color: rgb(125, 115, 70)">被讨厌的勇气</a><a href="/tags/%E8%83%BD%E5%8A%9B%E9%99%B7%E9%98%B1/" style="font-size: 1.15em; color: rgb(148, 43, 48)">能力陷阱</a><a href="/tags/%E9%82%93%E5%B0%8F%E5%B9%B3%E6%97%B6%E4%BB%A3/" style="font-size: 1.15em; color: rgb(43, 159, 33)">邓小平时代</a><a href="/tags/%E9%87%91%E5%AD%97%E5%A1%94%E5%8E%9F%E7%90%86/" style="font-size: 1.15em; color: rgb(47, 110, 186)">金字塔原理</a><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 1.15em; color: rgb(163, 80, 119)">动态规划</a><a href="/tags/%E9%9B%B6%E4%B8%80%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/" style="font-size: 1.15em; color: rgb(76, 71, 159)">零一背包问题</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(53, 174, 120)">java</a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(87, 121, 197)">设计模式</a><a href="/tags/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(74, 119, 30)">策略模式</a><a href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(110, 44, 24)">一致性哈希算法</a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.3em; color: rgb(66, 173, 20)">分布式</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/11/"><span class="card-archive-list-date">十一月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">5</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">104</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">219.5k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-12-23T11:03:00.955Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2025 By 逐光</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><div class="icp"><span><img src="/images/theme/icp_icon.png"/><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">陕ICP备19021337号-1</span></a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>((window.gitter = {}).chat = {}).options = {
  room: 'blog-mpoom/community',
};

if (false) {
  function chatBtnHide () {
    document.getElementsByClassName('gitter-open-chat-button')[0].style.display= 'none'
  }

  function chatBtnShow () {
    document.getElementsByClassName('gitter-open-chat-button')[0].style.display= 'block'
  }
}
</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="async" defer="defer"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>